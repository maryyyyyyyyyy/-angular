<div class="container">
  <ul>
    <li *ngFor="let item of products; let i = index">
      {{ i + 1 }}. {{ item }}
    </li>
    <li>
      {{ content }}
    </li>
  </ul>

  <h2>Отримані дані:</h2>
  <div *ngIf="error" class="error">{{ error }}</div>

  <ul *ngIf="data.length > 0 && !error">
    <li *ngFor="let item of data">
      <strong>{{ item.title }}</strong> - {{ item.body }}
    </li>
  </ul>

  <hr />

  <h3>Надіслати новий запис</h3>
  <form [formGroup]="form" (ngSubmit)="submitForm()">
    <input
      type="text"
      formControlName="title"
      placeholder="Заголовок"
    />
    <div *ngIf="form.get('title')?.invalid && form.get('title')?.touched" class="error">
      ⚠️ Введіть заголовок
    </div>
    <br />

    <textarea
      formControlName="body"
      placeholder="Опис"
    ></textarea>
    <div *ngIf="form.get('body')?.invalid && form.get('body')?.touched" class="error">
      ⚠️ Введіть опис
    </div>
    <br />

    <button type="submit" [disabled]="form.invalid">Надіслати</button>
  </form>

  <div *ngIf="postSuccess" class="success">✅ Дані успішно надіслано!</div>
</div>
